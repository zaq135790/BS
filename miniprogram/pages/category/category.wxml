<view class="container">
  <!-- 分类标签 -->
  <view class="category-tabs">
    <view class="tab-item {{activeTab === 'beneficial' ? 'active' : ''}}" bindtap="switchTab" data-tab="beneficial">
      益虫小帮手
    </view>
    <view class="tab-item {{activeTab === 'harmful' ? 'active' : ''}}" bindtap="switchTab" data-tab="harmful">
      害虫小困扰
    </view>
  </view>

  <!-- 昆虫列表：根据身份展示不同内容 -->
  <view class="insect-list">
    <!-- 儿童版：虫虫图鉴（动漫图 + 启蒙口诀） -->
    <block wx:for="{{currentInsects}}" wx:key="id">
      <!-- 儿童版：虫虫图鉴（动漫图 + 启蒙口诀） -->
      <view wx:if="{{role === 'child'}}" class="insect-card" bindtap="goToDetail" data-index="{{index}}">
        <image src="{{item.image}}" class="insect-image" mode="aspectFill" />
        <view class="insect-info">
          <text class="insect-name">{{item.name}}</text>
          <text class="insect-desc">{{item.childDesc}}</text>
        </view>
      </view>

      <!-- 家长版：科普知识库（真实照片 + 白话文科普） -->
      <view wx:if="{{role === 'parent'}}" class="insect-card parent-card" bindtap="goToDetail" data-index="{{index}}">
        <image src="{{item.image}}" class="insect-image" mode="aspectFill" />
        <view class="insect-info parent-info">
          <text class="insect-name">{{item.name}}</text>
          <view class="adult-text-row">
            <text class="adult-label">怎么认：</text>
            <text class="adult-content">{{item.identify}}</text>
          </view>
          <view class="adult-text-row">
            <text class="adult-label">如何做：</text>
            <text class="adult-content">{{item.guide}}</text>
          </view>
        </view>
      </view>
    </block>
  </view>
</view>
