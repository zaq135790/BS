<!--pages/theater/theater.wxml-->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-title">è™«è™«å°å‰§åœº</view>

  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <view class="category-tabs">
    <view wx:for="{{categories}}" wx:key="*this" 
          class="tab-item {{activeCategory === item ? 'active' : ''}}" 
          bindtap="switchCategory" 
          data-category="{{item}}">
      {{item}}
    </view>
  </view>

  <!-- è§†é¢‘åˆ—è¡¨ -->
  <view wx:if="{{loading}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view wx:elif="{{videos.length === 0}}" class="empty-state">
    <text class="empty-icon">ğŸ¬</text>
    <text class="empty-text">æš‚æ— è§†é¢‘å†…å®¹</text>
  </view>

  <view wx:else class="video-list">
    <view wx:for="{{videos}}" wx:key="id" class="video-item" bindtap="playVideo" data-id="{{item.id}}">
      <image class="video-thumb" src="{{item.thumbnail_url || '/images/video_default.jpg'}}" mode="aspectFill"></image>
      <view class="video-info">
        <text class="video-title">{{item.title}}</text>
        <view class="video-meta">
          <text class="insect-name">{{item.insect_name}}</text>
          <text class="duration">{{item.duration}}</text>
          <text class="view-count">{{item.view_count}} æ¬¡è§‚çœ‹</text>
        </view>
        <text class="video-description">{{item.description}}</text>
      </view>
    </view>
  </view>

  <!-- åŠ è½½æ›´å¤š -->
  <view wx:if="{{hasMore}}" class="load-more">
    <text>ä¸Šæ‹‰åŠ è½½æ›´å¤š</text>
  </view>
  <view wx:else class="no-more">
    <text>æ²¡æœ‰æ›´å¤šäº†</text>
  </view>
</view>